<template>
    <header id="header" :data-ma-theme="theme" class="clearfix search-toggled">
        <ul class="h-inner">
            <li :class="leftTriggerClass" @click="toggleLeft" v-if="showToggleLeft">
                <div class="line-wrap">
                    <div class="line top"></div>
                    <div class="line center"></div>
                    <div class="line bottom"></div>
                </div>
            </li>

            <li class="hi-logo hidden-xs">
                <slot name="logo"><a href="index.html">Material Admin</a></slot>
            </li>

            <slot>
                <li class="pull-right">
                    <div class="toolbar-menu">
                        <div class="toolbar-menu-item">
                            <a href="javascript:void(0)" @click="toggleSearch" class="toolbar-menu-item-trigger"><i class="him-icon zmdi zmdi-search"></i></a>
                        </div>
                        <dropdown class="toolbar-menu-item" align="right" trigger="click" dropdown-class="dropdown-menu-lg pull-right">
                            <a href="javascript:void(0)" class="toolbar-menu-item-trigger">
                                <i class="him-icon zmdi zmdi-email"></i>
                                <i class="him-counts">6</i>
                            </a>
                            <dropdown-menu slot="list">
                                <div class="list-group">
                                    <div class="lg-header">
                                        Messages
                                    </div>
                                    <div class="lg-body">
                                        <a class="list-group-item media" href="">
                                            <div class="pull-left">
                                                <img class="lgi-img" src="img/demo/profile-pics/1.jpg" alt="">
                                            </div>
                                            <div class="media-body">
                                                <div class="lgi-heading">David Belle</div>
                                                <small class="lgi-text">Cum sociis natoque penatibus et magnis dis parturient montes</small>
                                            </div>
                                        </a>
                                        <a class="list-group-item media" href="">
                                            <div class="pull-left">
                                                <img class="lgi-img" src="img/demo/profile-pics/2.jpg" alt="">
                                            </div>
                                            <div class="media-body">
                                                <div class="lgi-heading">Jonathan Morris</div>
                                                <small class="lgi-text">Nunc quis diam diamurabitur at dolor elementum, dictum turpis vel</small>
                                            </div>
                                        </a>
                                        <a class="list-group-item media" href="">
                                            <div class="pull-left">
                                                <img class="lgi-img" src="img/demo/profile-pics/3.jpg" alt="">
                                            </div>
                                            <div class="media-body">
                                                <div class="lgi-heading">Fredric Mitchell Jr.</div>
                                                <small class="lgi-text">Phasellus a ante et est ornare accumsan at vel magnauis blandit turpis at augue ultricies</small>
                                            </div>
                                        </a>
                                        <a class="list-group-item media" href="">
                                            <div class="pull-left">
                                                <img class="lgi-img" src="img/demo/profile-pics/4.jpg" alt="">
                                            </div>
                                            <div class="media-body">
                                                <div class="lgi-heading">Glenn Jecobs</div>
                                                <small class="lgi-text">Ut vitae lacus sem ellentesque maximus, nunc sit amet varius dignissim, dui est consectetur neque</small>
                                            </div>
                                        </a>
                                        <a class="list-group-item media" href="">
                                            <div class="pull-left">
                                                <img class="lgi-img" src="img/demo/profile-pics/4.jpg" alt="">
                                            </div>
                                            <div class="media-body">
                                                <div class="lgi-heading">Bill Phillips</div>
                                                <small class="lgi-text">Proin laoreet commodo eros id faucibus. Donec ligula quam, imperdiet vel ante placerat</small>
                                            </div>
                                        </a>
                                    </div>
                                    <a class="view-more" href="">View All</a>
                                </div>
                            </dropdown-menu>
                        </dropdown>
                        <dropdown class="toolbar-menu-item" align="right" trigger="click" dropdown-class="dropdown-menu-lg pull-right">
                            <a href="javascript:void(0)" class="toolbar-menu-item-trigger">
                                <i class="him-icon zmdi zmdi-notifications"></i>
                                <i class="him-counts">9</i>
                            </a>
                            <dropdown-menu slot="list">
                                <div class="list-group him-notification">
                                    <div class="lg-header">
                                        Notification
                                        <ul class="actions">
                                            <li class="dropdown">
                                                <a href="" data-ma-action="clear-notification">
                                                    <i class="zmdi zmdi-check-all"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="lg-body">
                                        <a class="list-group-item media" href="">
                                            <div class="pull-left">
                                                <img class="lgi-img" src="img/demo/profile-pics/1.jpg" alt="">
                                            </div>
                                            <div class="media-body">
                                                <div class="lgi-heading">David Belle</div>
                                                <small class="lgi-text">Cum sociis natoque penatibus et magnis dis parturient montes</small>
                                            </div>
                                        </a>
                                        <a class="list-group-item media" href="">
                                            <div class="pull-left">
                                                <img class="lgi-img" src="img/demo/profile-pics/2.jpg" alt="">
                                            </div>
                                            <div class="media-body">
                                                <div class="lgi-heading">Jonathan Morris</div>
                                                <small class="lgi-text">Nunc quis diam diamurabitur at dolor elementum, dictum turpis vel</small>
                                            </div>
                                        </a>
                                        <a class="list-group-item media" href="">
                                            <div class="pull-left">
                                                <img class="lgi-img" src="img/demo/profile-pics/3.jpg" alt="">
                                            </div>
                                            <div class="media-body">
                                                <div class="lgi-heading">Fredric Mitchell Jr.</div>
                                                <small class="lgi-text">Phasellus a ante et est ornare accumsan at vel magnauis blandit turpis at augue ultricies</small>
                                            </div>
                                        </a>
                                        <a class="list-group-item media" href="">
                                            <div class="pull-left">
                                                <img class="lgi-img" src="img/demo/profile-pics/4.jpg" alt="">
                                            </div>
                                            <div class="media-body">
                                                <div class="lgi-heading">Glenn Jecobs</div>
                                                <small class="lgi-text">Ut vitae lacus sem ellentesque maximus, nunc sit amet varius dignissim, dui est consectetur neque</small>
                                            </div>
                                        </a>
                                        <a class="list-group-item media" href="">
                                            <div class="pull-left">
                                                <img class="lgi-img" src="img/demo/profile-pics/4.jpg" alt="">
                                            </div>
                                            <div class="media-body">
                                                <div class="lgi-heading">Bill Phillips</div>
                                                <small class="lgi-text">Proin laoreet commodo eros id faucibus. Donec ligula quam, imperdiet vel ante placerat</small>
                                            </div>
                                        </a>
                                    </div>
                                    <a class="view-more" href="">View Previous</a>
                                </div>
                            </dropdown-menu>
                        </dropdown>
                        <dropdown class="toolbar-menu-item hidden-xs" align="right" trigger="click" dropdown-class="dropdown-menu-lg pull-right">
                            <a class="toolbar-menu-item-trigger" href="javascript:void(0)">
                                <i class="him-icon zmdi zmdi-view-list-alt"></i>
                                <i class="him-counts">2</i>
                            </a>
                            <dropdown-menu>
                                <div class="list-group">
                                    <div class="lg-header">
                                        Tasks
                                    </div>
                                    <div class="lg-body">
                                        <div class="list-group-item">
                                            <div class="lgi-heading m-b-5">HTML5 Validation Report</div>
                                            <div class="progress">
                                                <div class="progress-bar" role="progressbar" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100" style="width: 95%">
                                                    <span class="sr-only">95% Complete (success)</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="list-group-item">
                                            <div class="lgi-heading m-b-5">Google Chrome Extension</div>
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%">
                                                    <span class="sr-only">80% Complete (success)</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="list-group-item">
                                            <div class="lgi-heading m-b-5">Social Intranet Projects</div>
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 20%">
                                                    <span class="sr-only">20% Complete</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="list-group-item">
                                            <div class="lgi-heading m-b-5">Bootstrap Admin Template</div>
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
                                                    <span class="sr-only">60% Complete (warning)</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="list-group-item">
                                            <div class="lgi-heading m-b-5">Youtube Client App</div>
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%">
                                                    <span class="sr-only">80% Complete (danger)</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <a class="view-more" href="">View All</a>
                                </div>
                            </dropdown-menu>
                        </dropdown>
                        <dropdown class="toolbar-menu-item hidden-xs" align="right" trigger="click" dropdown-class="dm-icon pull-right">
                            <a class="toolbar-menu-item-trigger" href="javascript:void(0)">
                                <i class="him-icon zmdi zmdi-more-vert"></i>
                            </a>
                            <dropdown-menu>
                <li class="skin-switch hidden-xs">
                    <span class="ss-skin bgm-lightblue" data-ma-action="change-skin" data-ma-skin="lightblue"></span>
                    <span class="ss-skin bgm-bluegray" data-ma-action="change-skin" data-ma-skin="bluegray"></span>
                    <span class="ss-skin bgm-cyan" data-ma-action="change-skin" data-ma-skin="cyan"></span>
                    <span class="ss-skin bgm-teal" data-ma-action="change-skin" data-ma-skin="teal"></span>
                    <span class="ss-skin bgm-orange" data-ma-action="change-skin" data-ma-skin="orange"></span>
                    <span class="ss-skin bgm-blue" data-ma-action="change-skin" data-sma-kin="blue"></span>
                </li>
                <li class="divider hidden-xs"></li>
                <li class="hidden-xs">
                    <a data-ma-action="fullscreen" href=""><i class="zmdi zmdi-fullscreen"></i> Toggle Fullscreen</a>
                </li>
                <li>
                    <a data-ma-action="clear-localstorage" href=""><i class="zmdi zmdi-delete"></i> Clear Local Storage</a>
                </li>
                <li>
                    <a href=""><i class="zmdi zmdi-face"></i> Privacy Settings</a>
                </li>
                <li>
                    <a href=""><i class="zmdi zmdi-settings"></i> Other Settings</a>
                </li>
                </dropdown-menu>
                </dropdown>
                <div :class="rightTriggerClass">
                    <a href="javascript:void(0)" @click="toggleRight" class="toolbar-menu-item-trigger">
                        <i class="him-icon zmdi zmdi-comment-alt-text"></i>
                    </a>
                </div>
                </div>
                </li>
            </slot>
        </ul>

        <!-- Top Search Content -->
        <transition name="move-up">
            <div class="h-search-wrap" v-show="showSearch">
                <div class="hsw-inner">
                    <i class="hsw-close zmdi zmdi-arrow-left" @click="toggleSearch"></i>
                    <input type="text">
                </div>
            </div>
        </transition>

        <div class="ma-backdrop" v-if="showBackdrop"></div>

    </header>
</template>

<script>
    import {oneOf} from '../../../utils/assist';

    export default {
        name:'Toolbar',
        props: {
            theme: { //主题
                validator(val) {
                    return oneOf(val,['lightblue','bluegray','blue','purple','orange','cyan','green','teal','pink']);
                },
                default:'blue'
            },
            showToggleLeft: {   //是否显示切换左侧Sidebar的按钮
                type:Boolean,
                default:true
            },

        },
        data() {
            return {
                showSearch:false,
                showBackdrop:false,
                leftToggled:false,
                rightToggled:false
            }
        },
        computed: {
            leftTriggerClass() {
                return [
                    'hi-trigger ma-trigger',
                    {
                        'toggled':this.leftToggled
                    }
                ]
            },
            rightTriggerClass() {
                return [
                    'toolbar-menu-item hidden-xs ma-trigger',
                    {
                        'toggled':this.rightToggled
                    }
                ]
            }
        },
        methods: {
            toggleLeft() {
                this.leftToggled = !this.leftToggled;
                this.$emit('toggle-left',this.leftToggled);
            },
            toggleRight() {
                this.rightToggled = !this.rightToggled;
                this.$emit('toggle-right',this.rightToggled);
            },
            toggleSearch() {
                this.showSearch = !this.showSearch;
                this.$emit('toggle-search',this.showSearch);
            }
        }
    }
</script>